<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Discover personalized anime recommendations by adding your favorite series and exploring tailored suggestions."
  />
  <title>Anime Recommendation</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <header class="app-header" role="banner">
    <h1 class="app-header__title">Anime Recommendation</h1>
  </header>

  <main class="app-main" id="main-content">
    <section class="search-panel">
      <form class="search-form" id="search-form" role="search" novalidate>
        <div class="search-input-container">
          <label class="visually-hidden" for="search-input">Search for an anime title</label>
          <input
            id="search-input"
            type="search"
            name="query"
            placeholder="Search for your favorite anime..."
            autocomplete="off"
            spellcheck="false"
            aria-autocomplete="list"
            aria-controls="search-suggestions"
            aria-expanded="false"
          />
          <button id="search-submit" class="search-form__submit" type="submit" aria-label="Search">
            <span aria-hidden="true">üîç</span>
          </button>
          <ul
            id="search-suggestions"
            class="search-suggestions"
            role="listbox"
            aria-label="Search suggestions"
            hidden
          ></ul>
        </div>
      </form>
      
      <button id="recommend-button" class="button-primary" type="button" disabled>
        <span class="button-primary__spinner" aria-hidden="true"></span>
        <span class="button-primary__label">Get Recommendations</span>
      </button>
    </section>

    <section class="favorites-panel">
      <div id="favorite-list" class="favorites-list" role="list"></div>
    </section>

    <section
      class="recommendations-panel"
      id="recommendations-section"
      aria-labelledby="recommendations-heading"
    >
      <h2 id="recommendations-heading" class="section-heading">Recommended for You</h2>
      <div id="recommendation-list" class="recommendations-grid" role="list"></div>
      <div id="recommendations-empty" class="recommendations-empty-state" hidden>
        <h3>No recommendations yet</h3>
        <p>Add a few favorites and request recommendations to see tailored picks.</p>
      </div>
    </section>
  </main>

  <!-- Details Modal -->
  <dialog id="details-modal" class="details-modal">
    <div class="details-modal__content">
      <button id="details-modal-close" class="icon-button" aria-label="Close">‚úï</button>
      <div id="details-modal-body"></div>
    </div>
  </dialog>

  <template id="suggestion-item-template">
    <li class="search-suggestions__item" role="option">
      <img class="search-suggestions__image" alt="" />
      <div class="search-suggestions__content">
        <div class="search-suggestions__name"></div>
        <div class="search-suggestions__subtitle"></div>
      </div>
      <button class="search-suggestions__add-button" type="button">Add</button>
    </li>
  </template>

  <script>
    window.API_BASE = "https://animereco-api-725392014501.us-west1.run.app";
  </script>
  <script src="app.js"></script>
  <noscript>
    <div class="noscript-banner">This app requires JavaScript to fetch anime suggestions.</div>
  </noscript>
</body>
</html>
